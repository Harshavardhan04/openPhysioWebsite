<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Page Title -->
    <title>Doctors</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/logo/favicon.png" type="image/x-icon">

    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/animate-3.7.0.css">
    <link rel="stylesheet" href="assets/css/font-awesome-4.7.0.min.css">
    <link rel="stylesheet" href="assets/css/bootstrap-4.1.3.min.css">
    <link rel="stylesheet" href="assets/css/owl-carousel.min.css">
    <link rel="stylesheet" href="assets/css/jquery.datetimepicker.min.css">
    <link rel="stylesheet" href="assets/css/linearicons.css">
    <link rel="stylesheet" href="assets/css/style.css">

    <style>
   
      
        .image-container {
          flex: 1;
          text-align: center;
        }
      
        .text-container {
          flex: 2;
          padding: 20px;
          text-align: left;
        }
      </style>

</head>

<body>
    <!-- Preloader Starts -->
    <div class="preloader">
        <div class="spinner"></div>
    </div>
    <!-- Preloader End -->

    <!-- Header Area Starts -->


    <!-- Javascript -->
    <script src="assets/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="assets/js/vendor/bootstrap-4.1.3.min.js"></script>
    <script src="assets/js/vendor/wow.min.js"></script>
    <script src="assets/js/vendor/owl-carousel.min.js"></script>
    <script src="assets/js/vendor/jquery.datetimepicker.full.min.js"></script>
    <script src="assets/js/vendor/jquery.nice-select.min.js"></script>
    <script src="assets/js/vendor/superfish.min.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- Header Area Starts -->
    <header class="header-area">
        <div class="header-top">
          <div id="header" id="home">
            <div class="container">
                <div class="row align-items-center justify-content-between d-flex">
                  
                    <nav id="nav-menu-container">
                        <ul class="nav-menu">
                            <li class="menu-active"><a href="index.html">Home</a></li>
                            <li class="menu-has-children"><a href="requirements.html">Requirements</a>
                                <ul>
                                    <li><a class="dropdown-item" href="requirements.html#project-background">Project
                                            Background</a></li>
                                    <li><a class="dropdown-item" href="requirements.html#project-goal">Project Goal</a></li>
                                    <li><a class="dropdown-item" href="requirements.html#interview">User
                                            Interviews</a></li>
                                    <li><a class="dropdown-item" href="requirements.html#psna">Personas</a></li>
                                    <li><a class="dropdown-item" href="requirements.html#use-cases">Use Cases</a></li>
                                    <li><a class="dropdown-item" href="requirements.html#moscow-list">MosCow List</a>
                                    </li>
                                </ul>
                            </li>
                                <li class="menu-has-children"><a href="research.html">Research</a>
                                <ul>
                                    <li><a class="dropdown-item" href="research.html#research-project">Project
                                            Research</a></li>
                                            <li><a class="dropdown-item" href="research.html#research-frontend">Frontend
                                              Research</a></li>
                                              <li><a class="dropdown-item" href="research.html#research-backend">Backend
                                                Research</a></li>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-has-children"><a href="ui.html">HCI/UI</a>
                              <ul>
                                  <li><a class="dropdown-item" href="ui.html#sketches">Sketches</a></li>
                                          <li><a class="dropdown-item" href="ui.html#prototypes">Prototypes</a></li>
                                            <li><a class="dropdown-item" href="ui.html#ui-design">Design Principles</a></li>
                                  </li>
                              </ul>
                          </li>
    
    
    
                            <li class="menu-has-children"><a href="sysdesign.html">System Design</a>
                                <ul>
                                    <li><a href="sysdesign.html#sysarch">System Architecture</a></li>
                                    <li><a href="sysdesign.html#sitemap">Site Map</a></li>
                                </ul>
                            </li>
                            
    
                            <li class="menu-has-children"><a href="implementation.html">Implementation</a>
                                <ul>
    
                                    <li><a href="implementation.html#dnt">Dependencies and Tools</a></li>
                                    <li><a href="implementation.html#implementation-details">Implementation Details - Backend & Frontend</a></li>
                                    <li><a href = "implementation.html#data-strucutres"> Data Structures</a></li>
                                    <li><a href = "implementation.html#json"> JSON</a></li>
                                </ul>
                            </li>
    
                            <li class="menu-has-children"><a href="testing.html">Testing</a>
                                <ul>
                                    <li><a href="testing.html#overview">Testing Overview</a></li>
                                    <li><a href="testing.html#UAT">User Acceptance Testing</a></li>
                                    <li><a href="testing.html#RDT">Responsive Design Testing</a></li>
                                    <li><a href="testing.html#unit">Unit Testing</a></li>
    
                                </ul>
                            </li>
    
                            <li class="menu-has-children"><a href="evaluation.html">Evaluation</a>
                                <ul>
                                    <li><a href="evaluation.html#moscow">MosCow Evaluation</a></li>
                                    <li><a href="evaluation.html#indcon">Individual Contribution</a></li>
                                    <li><a href="evaluation.html#criteval">Critical Evaluation</a></li>
                                    <li><a href="evaluation.html#bug">Bug List</a></li>
                                    <li><a href="evaluation.html#futurework">Future Work</a></li>
                                </ul>
                            </li>
    
                            <li class="menu-has-children"><a href="appendix.html">Appendix</a>
                                <ul>
                                    <li><a href=""></a></li>
                                    <li><a href=""></a></li>
                                    <li><a href=""></a></li>
                                </ul>
                            </li>
    
                        </ul>
                    </nav><!-- #nav-menu-container -->
                </div>
            </div>
        </div>
    </header>

    <section class="banner-area other-page">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Implementation</h1>
                    <a href="index.html">Home</a> <span>|</span> <a href="implementation.html">Implementation</a>
                </div>
            </div>
        </div>
    </section>


    <!-- 
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-10">
                <div class="placeholder" id="prorsch"></div>
                <h5 class="mb-4">Main Technologies</b></h5>
                <div class="row">
                    <div class="col-lg-3 col-sm-6">
                        <div class="single-doctor mb-4 mb-lg-0">
                            <div class="doctor-img">
                                <img src="assets/images/doctor1.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">

                                    <h5><b>Python</b></h5>
                                    <h6></h6>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>backend</p>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="single-doctor mb-4 mb-lg-0">
                            <div class="doctor-img">
                                <img src="assets/images/doctor2.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">

                                    <h5><b>React</b></h5>
                                    <h6></h6>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>Frontend </p>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="single-doctor mb-4 mb-sm-0">
                            <div class="doctor-img">
                                <img src="assets/images/doctor3.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">
                                    <h5><b>Axios</b></h5>
                                    <h6></h6>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>Integration</p>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div> -->
    <!-- <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-10">
                    <div class="placeholder" id="prorsch"></div>
                    <h5 class="mb-4">Dependencies & Tools</b></h5>
                    <div class="row">
                        <div class="col-lg-4 col-sm-6">
                            <div class="single-doctor mb-4 mb-lg-0">
                                <div class="doctor-img">
                                    <img src="assets/images/doctor1.jpg" alt="" class="img-fluid">
                                </div>
                                <div class="content-area">
                                    <div class="doctor-name text-center">
                                        <h5><b>Python and fhir.resources</b></h5>
                                    </div>
                                    <div class="doctor-text text-center">
                                        <p>In the backend of the OpenPhysio FHIR application, Python plays a crucial role, notably utilizing the <code>fhir.resources</code> library. This library aids in creating, manipulating, and storing FHIR resources compliant with the FHIR specification. Our backend uses Python scripts like <code>createPatient()</code>, <code>savePatient()</code>, and <code>createObservation()</code> to handle patient data effectively, leveraging the structured and standardized format provided by the FHIR framework.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <div class="single-doctor mb-4 mb-lg-0">
                                <div class="doctor-img">
                                    <img src="assets/images/doctor2.jpg" alt="" class="img-fluid">
                                </div>
                                <div class="content-area">
                                    <div class="doctor-name text-center">
                                        <h5><b>React</b></h5>
                                    </div>
                                    <div class="doctor-text text-center">
                                        <p>React is utilized on the frontend to build a dynamic and responsive user interface for the OpenPhysio FHIR application. Its component-based architecture allows for efficient updates and state management, ensuring a seamless user experience. React's role is pivotal in rendering patient data, interfacing with backend services, and providing interactive data visualizations, enhancing the overall accessibility and usability of the application.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <div class="single-doctor mb-4 mb-sm-0">
                                <div class="doctor-img">
                                    <img src="assets/images/doctor3.jpg" alt="" class="img-fluid">
                                </div>
                                <div class="content-area">
                                    <div class="doctor-name text-center">
                                        <h5><b>Axios</b></h5>
                                    </div>
                                    <div class="doctor-text text-center">
                                        <p>Axios is a key library for handling HTTP requests within the React application, facilitating communication with the backend. It's used to fetch, display, and update patient data, playing an integral role in data interaction and ensuring that the application's frontend remains in sync with the backend services.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        <section class="dependencies-details section-padding">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-top text-center">
                            <h5 class="mb-4">Dependencies and Tools</b></h5>
                            <p>Detailed insights into the key dependencies and tools that power the OpenPhysio FHIR application.</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h5><b>Axios</b></h5>
                        <p>Axios is a JavaScript library utilized to handle HTTP requests within the OpenPhysio FHIR application. It's responsible for all communications between the frontend and the backend, managing data fetching and submission processes. The use of Axios ensures that network responses are efficiently handled, maintaining a reactive and user-friendly interface. Axios's promise-based architecture simplifies asynchronous data retrieval, keeping the application's data flow clear and manageable.</p>
                        
                        <h5><b>React-Chartjs-2</b></h5>
                        <p>React-Chartjs-2 is a React wrapper for Chart.js, facilitating the integration of responsive and dynamic charts into the application. It is essential for visualizing patient data trends, offering users interactive and informative charting capabilities. The library's seamless integration with React allows for real-time updates and interactions, making it a pivotal tool for data representation in the OpenPhysio FHIR application.</p>
                        
                        <h5><b>Material-UI</b></h5>
                        <p>Material-UI offers a suite of React components that conform to Material Design guidelines, providing a robust and cohesive design language for the application. Its extensive component library is used throughout the OpenPhysio FHIR application to create a consistent and intuitive user experience. With Material-UI, the application benefits from a modern and accessible interface, leveraging the library's theming capabilities and design consistency to enhance overall usability and aesthetic appeal.</p>
                    </div>
                </div>
            </div>
        </section>
         -->
    <div class="container" id = "dnt">
        <div class="row justify-content-center">
            <div class="col-xl-10">
                <div class="placeholder" id="prorsch"></div>
                <div class="section-top text-center">
                <h4 class="mb-4">Dependencies & Tools</b></h4>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-sm-6">
                        <div class="single-doctor mb-4 mb-lg-0 text-center">
                            <div class="doctor-img mx-auto">
                                <img src="assets/images/doctor1.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">
                                    <h5><b>Python (Flask) and fhir.resources</b></h5>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>Our project's backend uses Flask, a lightweight Python web framework, to handle
                                        API requests and serve the React frontend. We utilize
                                        <code>fhir.resources</code> to manage FHIR-compliant data structures, ensuring
                                        our healthcare application adheres to standard formats. Functions like
                                        <code>createPatient()</code> and <code>savePatient()</code> leverage this
                                        library to process and store healthcare data efficiently.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-sm-6">
                        <div class="single-doctor mb-4 mb-lg-0 text-center">
                            <div class="doctor-img mx-auto">
                                <img src="assets/images/doctor2.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">
                                    <h5><b>React and Material-UI</b></h5>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>React is the core of our frontend, enabling us to build a dynamic interface. We
                                        use Material-UI for its ready-to-use React components, aligning with Material
                                        Design principles. This combination ensures a consistent and responsive user
                                        experience, with Material-UI's components enhancing the aesthetics and usability
                                        of our React-based UI.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-sm-6 mt-4">
                        <div class="single-doctor text-center">
                            <div class="doctor-img mx-auto">
                                <img src="assets/images/doctor3.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">
                                    <h5><b>Axios</b></h5>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>Axios is employed within our React application to facilitate communication with
                                        the Flask backend. It handles all our HTTP requests, enabling data exchange
                                        between the user interface and the server. Axios's promise-based structure is
                                        instrumental in managing asynchronous operations, ensuring a smooth and
                                        interactive experience.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-sm-6 mt-4">
                        <div class="single-doctor text-center">
                            <div class="doctor-img mx-auto">
                                <img src="assets/images/doctor4.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">
                                    <h5><b>React-Chartjs-2</b></h5>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>React-Chartjs-2 provides an intuitive and powerful way to include data
                                        visualizations within our React components. Leveraging Chart.js under the hood,
                                        it allows us to render complex charts that are both informative and interactive,
                                        enhancing the data analysis capabilities of our healthcare application.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-sm-6 mt-4">
                        <div class="single-doctor text-center">
                            <div class="doctor-img mx-auto">
                                <img src="assets/images/doctor4.jpg" alt="" class="img-fluid">
                            </div>
                            <div class="content-area">
                                <div class="doctor-name text-center">
                                    <h5><b>React Router</b></h5>
                                </div>
                                <div class="doctor-text text-center">
                                    <p>React Router plays a pivotal role in our single-page application (SPA), enabling
                                        navigational components and URL management without full page reloads. It helps
                                        us define routes and link components, allowing users to navigate our app
                                        efficiently and maintaining the state across different views.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 
        <section class="implementation-details section-padding">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-top text-center">
                            <h2>Implementation Details - OpenPhysio FHIR Application</h2>
                            <p>Explore the technical insights into our implementation strategy, focusing on key features and the technologies that bring them to life.</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">

                        <h5><b>Patient Details (Name, DOB, ID)</b></h5>
                        <p>The Patient Details feature is essential for displaying basic information about the patient. It's built using React.js for its efficient rendering and state management capabilities. Material-UI components enhance the user interface, providing a structured and aesthetically pleasing layout. When the component mounts, a GET request is made to the Flask backend using Axios, fetching the patient's details which are then displayed on the page.</p>
                        <pre><code>
        useEffect(() => {
          const fetchPatientProfile = () => {
            axios.get("http://localhost:5000/profile")
              .then(({ data }) => {
                const { name, dob, patientID } = data;
                setPatientProfile({ name, dob, patientID });
              })
              .catch(error => console.error("Error fetching patient profile:", error));
          };
          fetchPatientProfile();
        }, [setPatientProfile]);
                        </code></pre>
        

                        <h5><b>Graphical View (Trend Chart)</b></h5>
                        <p>The Graphical View feature illustrates the patient's medical data over time using the Chart.js library, integrated into React via react-chartjs-2. This allows for dynamic and interactive charts that are responsive to user interactions. Data for the charts are fetched from the backend based on the selected parameters, and the chart updates accordingly to reflect the new data.</p>
                        <pre><code>
        const fetchChartData = async (snomedCode) => {
          const response = await axios.post('/chart-data', { snomedCode });
          setChartData(formatChartData(response.data));
        };
        
        useEffect(() => {
          if (selectedSnomed) fetchChartData(selectedSnomed);
        }, [selectedSnomed]);
                        </code></pre>
        

                        <h5><b>Past Data (on a Range Basis)</b></h5>
                        <p>The Past Data feature allows users to query and view patient data within a specified date range. It dynamically fetches and displays this data using Axios to make requests to the backend, and updates the UI in real-time as users adjust the date range.</p>
        

                        <h5><b>CSV Data Export</b></h5>
                        <p>The CSV Data Export feature enables users to download patient data in a CSV format. JavaScript is used to transform the data into CSV format and trigger a download, allowing users to easily save and use the data in various external applications.</p>
                        <pre><code>
        function downloadConsultationData(data) {
          const csvContent = convertDataToCSV(data);
          const encodedUri = encodeURI(csvContent);
          const link = document.createElement("a");
          link.setAttribute("href", encodedUri);
          link.setAttribute("download", "consultation_data.csv");
          document.body.appendChild(link);
          link.click();
        }
                        </code></pre>
                        
                        <p>These sections provide an in-depth look at the technical composition of the OpenPhysio FHIR application, showcasing the integration of modern web technologies and frameworks to create a robust and user-friendly platform.</p>
                    </div>
                </div>
            </div>
        </section> -->

    <!-- Implementation Details Start -->
    <!-- <section class="implementation-details section-padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-top text-center">
                    <h2>Implementation Details - OpenPhysio FHIR Application</h2>
                    <p>Explore the technical insights into our implementation strategy, focusing on key features and the technologies that bring them to life.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <h5><b>Patient Details (Name, DOB, ID)</b></h5>
                <p>The Patient Details feature in the OpenPhysio FHIR application is designed to present essential patient information using React.js and Material-UI. React.js's component-based architecture is utilized for efficient rendering and state management. Material-UI components are employed to structure the patient details in a visually appealing and organized manner.</p>
                <p>Upon the component mounting, an Axios GET request fetches the patient's details from the FHIR server. State variables are then updated with this data and displayed using Material-UI's Typography and Paper components.</p>

                <pre><code>
useEffect(() => {
  const fetchPatientProfile = () => {
    axios.get("http://localhost:5000/profile")
      .then(({ data }) => {
        const { name, dob, patientID } = data;
        setPatientProfile({ name, dob, patientID });
      })
      .catch(error => console.error("Error fetching patient profile:", error));
  };
  fetchPatientProfile();
}, [setPatientProfile]);
                </code></pre>

                <h5><b>Graphical View (Trend Chart)</b></h5>
                <p>The Graphical View feature utilizes Chart.js integrated with React through React-Chartjs-2 for rendering interactive trend charts. This feature processes the patient's historical data to align with Chart.js's data format requirements and then renders it using a Line component.</p>

                <pre><code>
const fetchChartData = async (snomedCode) => {
  const response = await axios.post('/chart-data', { snomedCode });
  setChartData(formatChartData(response.data));
};

useEffect(() => {
  if (selectedSnomed) fetchChartData(selectedSnomed);
}, [selectedSnomed]);
                </code></pre>

                <h5><b>Past Data (On a Range Basis)</b></h5>
                <p>The Past Data feature allows users to view data over a specified date range, dynamically fetching and displaying this data from the FHIR server using Axios based on user-selected parameters.</p>

                <h5><b>CSV Data Export</b></h5>
                <p>The CSV Data Export feature enables users to download patient data in CSV format. JavaScript is used to serialize the data into CSV format and trigger a download, allowing for further data analysis or record-keeping in external applications.</p>

                <pre><code>
function downloadConsultationData(data) {
  const csvContent = convertDataToCSV(data);
  const encodedUri = encodeURI(csvContent);
  const link = document.createElement("a");
  link.setAttribute("href", encodedUri);
  link.setAttribute("download", "consultation_data.csv");
  document.body.appendChild(link);
  link.click();
}
                </code></pre>
                
                <p>This section provides a deep dive into the technical underpinnings of the OpenPhysio FHIR application, highlighting the integration of React.js, Material-UI, Axios, Chart.js, and React-Chartjs-2 to build a robust and user-centric platform.</p>
            </div>
        </div>
    </div>
</section> -->

    <!-- Implementation Details Start -->

        <div class="container" id = "impl-details">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-top text-center">
                        <h4 class="mb-4">Implementation Details</b></h4>

                    </div>
                </div>
            </div>
            <div class = "container">
                <h4 class = "mb-5">The Backend </h4>
                <div class="row">
                    <div class="col-lg-12">
                        <p>After completing our research and deciding to proceed in Python with FHIR.resources supporting the development of the backend, implementation began. The backend mainly revolved around transmitting data gathered from the user through the frontend to the data storage format - in a FHIR-compliant manner and then returning the data for display. The FHIR compliancy was ensured through the use of Fhir.resources objects which undertook their own internal validation. From there, it was a matter of selecting an appropriate object for a given data transmission. The backend developer settled on: the Patient object for basic patient data, the Observation object for measurements taken during the session, and the DocumentReference object for the notes taken during the session.</p>
                        
                        <p>Below is an example of one of the functions:</p>
                        <pre style="background-color: #f7f7f7; padding: 15px; border-radius: 10px; overflow-x: auto;">
                            <code style="color: #333;">
                            <span style="color: #d73a49;">def</span> saveObservation(observations: list, directory: str) -&gt; <span style="color: #0076b8;">None</span>: <span style="color: #6f42c1;">#expects a list of observations</span>
                                <span style="color: #d73a49;">for</span> observation <span style="color: #d73a49;">in</span> observations:
                                    <span style="color: #d73a49;">if not</span> os.path.exists(os.path.join(directory, observation.id)):
                                        os.mkdir(os.path.join(directory, observation.id))
                                    filename = str(len(os.listdir(os.path.join(directory, observation.id)))) + <span style="color: #032f62;">".json"</span>
                                    obs_path = os.path.join(directory,observation.id, filename)
                                    <span style="color: #d73a49;">with</span> open(obs_path, <span style="color: #032f62;">"w"</span>) <span style="color: #d73a49;">as</span> f:
                                        f.write(json.dumps(observation.dict(), indent=4))
                            </code>
                            </pre>
                        
                        <p>The purpose of this function is to take a list of observations made by the healthcare professional during the session and the directory which contains the observation data and saves the observation object in dictionary form inside of a JSON file. If the path for the specific location doesn't exist (i.e., it is the patient’s first consultation), then the function creates a directory within the notes directory to store the patient’s observations. The filename is created using the number of files already within the directory (to keep track of the total sessions a patient has had for ease of indexing and understanding).</p>
                        
                        <p>Below is the function for the creation of an Observation:</p>
                        <pre style="background-color: #f7f7f7; padding: 15px; border-radius: 10px; overflow-x: auto;">
                            <code style="color: #333;">
                            <span style="color: #d73a49;">def</span> createObservation(id, measurement: str, loinc: str, SNOMED: str, desired_path: str) -&gt; Observation: <span style="color: #6f42c1;">#returns observation and session notes</span>
                                current_date = datetime.now().isoformat()
                                observation = Observation(
                                    id = str(id),
                                    status=<span style="color: #032f62;">"final"</span>,
                                    code={<span style="color: #d73a49;">"coding"</span>: [{<span style="color: #d73a49;">"system"</span>: <span style="color: #032f62;">"http://loinc.org"</span>, <span style="color: #d73a49;">"code"</span>: loinc}]},
                                    valueString= measurement,
                                    bodySite={<span style="color: #d73a49;">"coding"</span>: [{<span style="color: #d73a49;">"system"</span>: <span style="color: #032f62;">"http://snomed.info/sct"</span>, <span style="color: #d73a49;">"code"</span>: SNOMED}]},
                                    effectiveDateTime=fhirdate.FHIRDate(current_date),)
                                snomeds = getDesired(id, desired_path)
                                snomeds = [snomed[0] <span style="color: #d73a49;">for</span> snomed <span style="color: #d73a49;">in</span> snomeds]
                                <span style="color: #d73a49;">if</span> SNOMED not <span style="color: #d73a49;">in</span> snomeds:
                                    saveDesired(id, 0, desired_path, SNOMED)
                                <span style="color: #d73a49;">return</span> observation
                            </code>
                            </pre>
                        <p>The function takes most of the required input for the creation of an Observation as input and returns said Observation as output. The date is automatically captured so that the healthcare professional doesn't have to input it and the id is saved on the system so it doesn't have to be repetitively inputted by the user. The Observation object is provided by Fhir.resources and if no desired value exists within the system for that SNOMED and patient, then one is initialised for editing by the healthcare professional.</p>
                    </div>
                </div>
            </div>
            <div class = "container">
            <div class="row">
                <div class="col-lg-12">
                    <!-- Patient Details Section -->
                    <h4>Our base.py file </h4>
                    <div class = "container">

                        <div class="row">
                            
                            <p>
                              The <code>base.py</code> file acts as the central nervous system of our OpenPhysio platform's backend, setting up a Flask application and configuring Cross-Origin Resource Sharing (CORS) to ensure smooth interaction between the frontend and backend. It's here where we define the critical routes our application relies on to function correctly.
                            </p>
                            <ul>
                              <li>
                                <strong>Patient Profile Management:</strong> Via the <code>/profile</code> endpoint, the system allows for the retrieval and update of patient profiles, essential for maintaining accurate and up-to-date patient records.
                              </li>
                              <li>
                                <strong>Past Data Retrieval:</strong> The <code>/past-data</code> endpoint is pivotal in fetching historical patient data, enabling healthcare providers to monitor patient progress over time.
                              </li>
                              <li>
                                <strong>Desired Value Management:</strong> The <code>/desired</code> endpoint facilitates the retrieval and updating of targeted values for specific conditions, integral for tailored patient care plans.
                              </li>
                              <li>
                                <strong>Chart Data Generation:</strong> Utilizing the <code>/chart-data</code> endpoint, the platform can generate and provide essential data for visual analytics, aiding in the visualization of patient progress.
                              </li>
                              <li>
                                <strong>Latest Consultation Details:</strong> Accessible via the <code>/last-consultation</code> endpoint, the most recent patient consultation data can be fetched, providing healthcare providers with the latest insights into patient status.
                              </li>
                            </ul>
                            <p>
                              In summary, <code>base.py</code> orchestrates the backend functionality, ensuring that the system adheres to FHIR standards and supports the frontend with necessary data services, underpinning the robust and reliable operation of the OpenPhysio platform.
                            </p>
                          </div>
                    </div>
                    <h4>The frontend </h4>
                    <div class = "container">
                        <p>A lot of frontend code went into displaying several frontend components, and details regarding this can be found in our 
                            code's documentation. Here, we focus more on communication between our <code>base.py</code> file and the frontend, whilst outlinining (rather than describing) the frontend elements used for some key features in our system.
                        </p>
                        
                    <h5><b>Patient Details (Name, DOB, ID)</b></h5>
                    <p>The Patient Details component is integral to the OpenPhysio FHIR application, designed to
                        succinctly present vital patient information. We harnessed the power of React.js, a declarative
                        and efficient JavaScript library, to build this feature. React.js facilitates the creation of
                        interactive UIs with its efficient update and render capabilities, which are especially
                        beneficial for data-driven applications like ours.</p>
                    <p>We selected Material-UI for its comprehensive suite of design elements that adhere to Material
                        Design guidelines, ensuring a uniform and intuitive user interface. The utilization of
                        Typography and Paper components from Material-UI allowed us to display patient details in a
                        structured and aesthetically pleasing manner, contributing to an enhanced user experience.</p>
                    <p>The Axios library plays a crucial role in data retrieval, interfacing with the FHIR server to
                        fetch patient details. We employed React's useEffect hook to trigger the Axios GET request upon
                        the component's mount, ensuring that patient data is fetched and rendered promptly. The fetched
                        data is subsequently stored in state variables managed by React's useState hook, binding the
                        patient information to our UI components for display.</p>
                    <!-- Code snippet for Patient Details -->
                    <pre style="background-color: #f7f7f7; padding: 15px; border-radius: 10px; overflow-x: auto;">
                    <code style="color: #333;">
                    <span style="color: #d73a49;">useEffect</span>(() => {
                      <span style="color: #d73a49;">const</span> fetchPatientProfile = () => {
                        axios.get(<span style="color: #032f62;">"http://localhost:5000/profile"</span>)
                          .then((<span style="color: #d73a49;">{ data }</span>) => {
                            <span style="color: #d73a49;">const</span> { name, dob, patientID } = data;
                            setPatientProfile({ name, dob, patientID });
                          })
                          .catch(error => console.error(<span style="color: #032f62;">"Error fetching patient profile:"</span>, error));
                      };
                      fetchPatientProfile();
                    }, [setPatientProfile]);
                    </code>
                    </pre>

                    <!-- Graphical View Section -->
                    <h5><b>Graphical View (Trend Chart)</b></h5>
                    <p>The graphical view feature is designed to provide insightful visualizations of patient health
                        trends over time, employing Chart.js integrated with React via React-Chartjs-2 for rendering
                        dynamic charts. This feature is pivotal for healthcare providers to track patient progress and
                        identify patterns. We preprocess the patient data to conform to the data structure required by
                        Chart.js, enabling the rendering of this data in a line chart format.</p>
                    <p>React-Chartjs-2, as a React wrapper for Chart.js, allows us to leverage React's capabilities for
                        managing the chart's state and lifecycle, ensuring that the chart updates responsively to user
                        interactions and data changes. The customization options provided by Chart.js are utilized to
                        tailor the chart's appearance and functionalities, such as tooltips, axis scales, and responsive
                        settings, enhancing the user's ability to interpret the presented data.</p>
                    <!-- Code snippet for Graphical View -->
                    <pre style="background-color: #f7f7f7; padding: 15px; border-radius: 10px; overflow-x: auto;">
                    <code style="color: #333;">
                    <span style="color: #d73a49;">const</span> fetchChartData = <span style="color: #d73a49;">async</span> (snomedCode) => {
                      <span style="color: #d73a49;">const</span> response = <span style="color: #0076b8;">await</span> axios.post(<span style="color: #032f62;">'/chart-data'</span>, { snomedCode });
                      setChartData(formatChartData(response.data));
                    };
                    
                    <span style="color: #d73a49;">useEffect</span>(() => {
                      <span style="color: #0076b8;">if</span> (selectedSnomed) fetchChartData(selectedSnomed);
                    }, [selectedSnomed]);
                    </code>
                    </pre>

                    <!-- Past Data Section -->
                    <h5><b>Past Data (On a Range Basis)</b></h5>
                    <p>The Past Data feature offers a granular look at patient history within user-specified date
                        ranges, necessitating real-time data fetching and rendering. This feature exemplifies the
                        application's dynamic data processing capabilities, allowing healthcare providers to access
                        historical patient data efficiently. User interactions trigger state changes, which in turn
                        prompt the Axios-powered API calls to retrieve pertinent data from the FHIR server based on the
                        selected range.</p>

                    <!-- CSV Data Export Section -->
                    <h5><b>CSV Data Export</b></h5>
                    <p>The CSV Data Export functionality is an essential tool for data portability, enabling the export
                        of patient data into a widely supported format for further analysis or archival purposes. This
                        feature employs JavaScript's Blob and URL APIs to serialize the selected patient data into CSV
                        format, creating a downloadable file. Such functionality underscores the application's
                        versatility in data handling, facilitating seamless integration with external data analysis
                        tools and record-keeping systems.</p>
                    <!-- Code snippet for CSV Data Export -->
                    <pre style="background-color: #f7f7f7; padding: 15px; border-radius: 10px; overflow-x: auto;">
                    <code style="color: #333;">
                    <span style="color: #d73a49;">function</span> downloadConsultationData(data) {
                      <span style="color: #d73a49;">const</span> csvContent = convertDataToCSV(data);
                      <span style="color: #d73a49;">const</span> encodedUri = <span style="color: #0076b8;">encodeURI</span>(csvContent);
                      <span style="color: #d73a49;">const</span> link = document.<span style="color: #0076b8;">createElement</span>(<span style="color: #032f62;">'a'</span>);
                      link.<span style="color: #0076b8;">setAttribute</span>(<span style="color: #032f62;">'href'</span>, encodedUri);
                      link.<span style="color: #0076b8;">setAttribute</span>(<span style="color: #032f62;">'download'</span>, <span style="color: #032f62;">'consultation_data.csv'</span>);
                      document.body.<span style="color: #0076b8;">appendChild</span>(link);
                      link.<span style="color: #0076b8;">click</span>();
                    }
                    </code>
                    </pre>




                    <p>Overall, we have effectively used React.js, Material-UI, Axios, and Chart.js to construct a robust, user-centric healthcare
                        platform.</p>
                </div>
            </div>
        </div>
            </div>
            <div class = "container" id = "data-strucutres">
                <div class="section-top text-center">
            <h4 class = "mb-4">Data Structures</h4></div>
            <div class="row">
  
                <p>The project required significant data structure consideration for the sake of integration. The
                    backend was developed with the specific requests in mind. An example of this would be the decision
                    to utilise dictionaries for returning measured values. With the Snowmed of the body part as the key
                    and the values as the measured values. Another example would be when the backend retrieves desired
                    values- A list of tuples with Snowmed’s and desired values as the elements is returned.
                    Considerations such those allowed for seamless and rapid integration between the frontend and
                    backend as the data was more processed and easily indexable.</p>
            </div>
        </div>
            <div class="container" id = "json">
                </div>
                <div class="section-top text-center">
            <h4 class = "mb-4">Our use of JSON</h4></div>
            <div class = "row">
                
                    <div class="image-container">
                      <img src="./assets/images/implementation/filestructure.png" alt="Relevant Image" style="width: 60%;">
                    </div>
                    <div class="text-container">

                      <p>Json files are heavily used to store the data collected as the Fhir.resources objects are easily converted into dictionaries- which make the most sense to be stored as Jsons. There are 5 files for data storage: Communication, which contains the testing and all of the backend functions; Patient which contains a Json for each patient with PatientNumber.json as each file. Desired which contains all of the desired values for a given Snomed code (with Snomed.json as the file name) contained within a a directory for each patient id (1 in the given diagram) and A similar situation is the case for the Notes and Observation except with the filename being observationNumber.json.</p>
                    </div>
                  </div>

            </div>

            
</div>
        </div>

    <!-- Implementation Details End -->

    <!-- Footer Starts Here -->



    <!-- Implementation Details End -->

    <!-- Footer Starts Here -->



    </div>
    </div>
</body>


    <!-- Footer Area Starts -->
    <footer class="footer-area section-padding">



        <div class="container">
            <div class="row">
                <!-- Site Map Section -->
                <div class="col-lg-4 col-md-6">
                    <div class="single-widget-home mb-5 mb-lg-0">
                        <h3 class="mb-4">Site Map</h3>
                        <ul>
                            <li class="mb-2"><a href="index.html">Home</a></li>
                            <li class="mb-2"><a href="requirements.html">Requirements</a></li>
                            <li class="mb-2"><a href="research.html">Research</a></li>
                            <li class="mb-2"><a href="ui.html">UI/HCI</a></li>
                            <li class="mb-2"><a href="sysdesign.html">System Design</a></li>
                            <li class="mb-2"><a href="testing.html">Testing</a></li>
                            <li class="mb-2"><a href="evaluation.html">Evaluation</a></li>
                            <li class="mb-2"><a href="appendix.html">Appendix</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Content and Logos Section -->
                <div class="col-lg-8 col-md-6">
                    <div class="row">
                        <!-- Content Section -->
                        <div class="col-12">
                            <span>
                                <!-- Dynamic year update and copyrights -->

                                <p>Copyright &copy; 2024 All rights reserved </p>
                                <p> This is
                                    the website for UCL Year2 2023-2024 COMP0016 Team42:OpenPhysio FHIR, which
                                    introduces
                                    the team project and contains all the portfolios</p>
                                <p>This
                                    template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a
                                        href="https://colorlib.com" target="_blank">Colorlib</a></p>
                            </span>
                        </div>
                        <style>
                            .social-icons ul {
                                padding: 0;
                                list-style: none;
                            }

                            .social-icons ul li {
                                display: inline;
                                /* or 'inline-block' */
                                margin-right: 10px;
                                /* Adjust spacing between icons */
                            }
                        </style>

                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Footer Area End -->

</html>